# easycome
一个开房间式的可水平扩展的简单框架

## 生成消息协议
使用protobuf来进行与其他服务器间的通信，自动生成消息的id，服务端和客户端的相关文件等
protoc-gen-msg中可以指定相关的生成路径，模板文件等。

消息体名称后必须跟对应的服务器类型，如TestToAgent只能被Agent类型的服务所接收。服务器
类型在enum/server下，如果不加则为发送到客户端的消息

## 与前端的交互
在session/mixkcp中，里面目前包括支持的协议有tcp，kcp，websocket。
统一写成同样的消息体
16位长度的数字，一个计数位防止重放，8位消息体id，剩余消息体
|16位       |1位|       8位|payload     ...|

## 与其他服务端的交互
在session/grpc中，目前使用grpc作为内部rpc使用
消息体长度与客户端一致

## 作为客户端发起与其他服务器端的请求
在session/rpc_client中
对方服务器如果接受的服务器id与消息体不符，对方服务器会尝试再次进行转发到目标服务器。

在任意时刻都可以发起一条rpc_client
